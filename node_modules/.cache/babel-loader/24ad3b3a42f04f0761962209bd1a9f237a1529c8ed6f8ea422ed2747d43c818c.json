{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav justify-content-end\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"nav-item\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"images/book_buddy_logo.png\",\n  alt: \"Book Buddy Logo\",\n  class: \"nav-logo\"\n})], -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"FS\"\n}, \"Book Buddy\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"nav-item active\"\n};\nconst _hoisted_5 = {\n  class: \"nav-item\"\n};\nconst _hoisted_6 = {\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"nav-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"ul\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"li\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), _createCommentVNode(\" 'ReaderList' is formatting decided on for pinging router \"), _createCommentVNode(\"      <li class=\\\"nav-item\\\">\\n         <router-link :to=\\\"{name: 'ReaderList'}\\\">Readers</router-link> | \"), _createCommentVNode(\" </li> \"), _createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: {\n      name: 'AuthorList'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Authors\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), _createElementVNode(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: {\n      name: 'BookList'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Books\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_7, [_createVNode(_component_router_link, {\n    to: {\n      name: 'BookBuddyList'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Book Buddies\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")])) : _createCommentVNode(\"v-if\", true), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 1,\n    class: \"nav-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.register && $options.register(...args))\n  }, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Register'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")])) : _createCommentVNode(\"v-if\", true), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 2,\n    class: \"nav-item\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.login && $options.login(...args))\n  }, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Log in\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 3,\n    class: \"nav-item .justify-content-end\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args))\n  }, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Logout\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","src","alt","key","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_createCommentVNode","_hoisted_5","name","_hoisted_6","_ctx","authenticated","_hoisted_7","onClick","_cache","args","$options","register","login","logout","_component_router_view"],"sources":["/Users/tbonebrake/Documents/GitHub/Front-end-BookBuddy-Group1-ISQA4900/src/App.vue"],"sourcesContent":["<template>\n  <ul class=\"nav justify-content-end\">\n    <li class=\"nav-item\">\n         <img src=\"images/book_buddy_logo.png\" alt=\"Book Buddy Logo\" class=\"nav-logo\">\n     </li>\n     <div class=\"FS\">Book Buddy</div>\n     <li class=\"nav-item active\">\n         <router-link to=\"/\">Home</router-link> |\n     </li>\n     <!-- 'ReaderList' is formatting decided on for pinging router -->\n<!--      <li class=\"nav-item\">\n         <router-link :to=\"{name: 'ReaderList'}\">Readers</router-link> | -->\n     <!-- </li> -->\n     <li class=\"nav-item\">\n         <router-link :to=\"{name: 'AuthorList'}\">Authors</router-link> |\n     </li>\n     <li class=\"nav-item\">\n         <router-link :to=\"{name: 'BookList'}\">Books</router-link> |\n     </li>\n    <li class=\"nav-item\" v-if=\"!authenticated\">\n         <router-link :to=\"{name: 'BookBuddyList'}\">Book Buddies</router-link> |\n     </li>\n     <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\" >\n         <router-link :to=\"{name: 'Register'}\">Register</router-link> |\n     </li>\n     <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" >\n         <router-link :to=\"{name: 'Auth'}\">Log in</router-link>\n     </li>\n     <li class=\"nav-item  .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" >\n         <router-link :to=\"{name: 'Auth'}\">Logout</router-link>\n     </li>\n </ul>\n <router-view/>\n</template>\n<script>\n import router from './router';\n import {APIService} from './http/APIService';\n const apiService = new APIService();\n\n export default {\n     name: 'App',\n     data: () => ({\n         authenticated: false,\n         dialog: false,\n         menu: [\n             { title: 'Home', url:\"/\"},\n             { title: 'Readers', url:\"/reader-list\" },\n         ]\n     }),\n     mounted() {\n       if (localStorage.getItem(\"isAuthenticated\") &&\n           JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true ){\n           this.authenticated = true\n       }else {\n           this.authenticated = false\n       }\n       if(this.authenticated === true) {\n         apiService.getUser().then(response => {\n             this.authenticated = true;\n         }).catch(error => {\n             if (error.response.status === 401) {\n               localStorage.clear();\n               localStorage.setItem(\"isAuthenticated\", false);\n               this.authenticated = false;\n             }\n         });\n       } \n     },\n     methods: {\n       getUser() {\n           if (localStorage.getItem(\"isAuthenticated\") &&\n            JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true\n           ) {\n            this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n            }\n       },\n         logout() {\n           //clear local storage items and set authenticated to false\n           localStorage.clear();\n           localStorage.setItem(\"isAuthenticated\", false);\n           this.authenticated = false;\n           window.location = \"/\";\n         },\n         login() {\n             router.push(\"/auth\");\n         },\n         home() {\n           window.location = \"/\";\n           },\n       register() {\n           router.push(\"/register\");\n        },\n        \n      getUser() {\n        if (localStorage.getItem(\"isAuthenticated\") &&\n         JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true ) {\n            apiService.getUser().then(response => {\n                this.user = response.data;\n                localStorage.setItem(\"username\", this.user.username);\n                localStorage.setItem(\"userID\", this.user.pk);\n                localStorage.setItem(\"is_superuser\", this.user.is_superuser);\n                localStorage.setItem(\"first_name\", this.user.first_name);\n                localStorage.setItem(\"last_name\", this.user.last_name);\n                localStorage.setItem(\"email\", this.user.email);\n                localStorage.setItem(\"userInfoDefined\", true);\n            }).catch(error => {\n                if (error.response.status === 401) {\n                    localStorage.clear();\n                    localStorage.setItem(\"isAuthenticated\", false);\n                    localStorage.setItem(\"username\", \"Guest\");\n                    this.authenticated = false;\n                    router.push(\"/auth\");\n                }\n            });\n            } else {\n              localStorage.setItem(\"isAuthenticated\", false);\n              localStorage.setItem(\"username\", \"Guest\");\n            }  \n        }\n    }\n}\n\n</script>\n<style lang=\"scss\">\n #app {\n     font-family: Avenir, Helvetica, Arial, sans-serif;\n     -webkit-font-smoothing: antialiased;\n     -moz-osx-font-smoothing: grayscale;\n     text-align: center;\n     color: #FF3131;\n }\n #nav {\n     padding: 30px;\n     background-color: rgb(255, 255, 255);\n     a {\n         font-weight: bold;\n         color: #FF3131;\n         &.router-link-exact-active {\n             color: #8fb9db;\n         }\n     }\n }\n .nav {\n    width: 100%;\n    padding: 1em;\n    background-color: rgb(0, 0, 0);\n    margin: 0;\n    list-style: none;\n    display: flex;\n    justify-content: space-between;\n     \n     li {\n         font-weight: bold;\n         color: #8fb9db;\n     }\n     a {\n         color: rgb(255, 255, 255);\n         padding: .5em;\n\n         &.router-link-exact-active {\n             color: #ffffff;\n         }\n     }\n }\n</style>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '../router';\nimport { APIService } from '../http/APIService';\nconst apiService = new APIService();\nexport default {\n  name: 'BookDetail',\n  components: {},\n  data() {\n    return {\n      validUserName: \"Guest\",\n      showMsg: '',\n      photo: '',\n      book: {}\n    };\n  },\n  mounted() {\n    this.authenticated = localStorage.getItem(\"isAuthenticated\");\n    this.showMessages();\n    this.getBookDetails();\n  },\n  methods: {\n    getBookDetails() {\n      apiService.getBook(this.$route.params.pk).then(response => {\n        this.book = response.data;\n        if (localStorage.getItem(\"isAuthenticated\") && JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true) {\n          this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n        }\n      }).catch(error => {\n        if (error.response.status === 401) {\n          localStorage.clear();\n          router.push(\"/auth\");\n        }\n      });\n      apiService.getAuthor(this.$route.params.pk).then(response => {\n        this.book.author = response.data.name;\n        console.log(this.book.author);\n        this.photo = response.data.photo;\n        if (localStorage.getItem(\"isAuthenticated\") && JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true) {\n          this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n        }\n      }).catch(error => {\n        if (error.response.status === 401) {\n          localStorage.clear();\n          router.push(\"/auth\");\n        }\n      });\n    },\n    showMessages() {\n      if (this.$route.params.msg) {\n        this.showMsg = this.$route.params.msg;\n      }\n    }\n  }\n};","map":{"version":3,"names":["router","APIService","apiService","name","components","data","validUserName","showMsg","photo","book","mounted","authenticated","localStorage","getItem","showMessages","getBookDetails","methods","getBook","$route","params","pk","then","response","JSON","parse","catch","error","status","clear","push","getAuthor","author","console","log","msg"],"sources":["/Users/tbonebrake/Documents/GitHub/Front-end-BookBuddy-Group1-ISQA4900/src/components/BookDetail.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col col-12 align-items-center justify-content-center\">\n        <blockquote>\n          Welcome {{ validUserName }}!\n          <footer>\n            <small>\n              <em>-Your Book Buddy & You!</em>\n            </small>\n          </footer>\n        </blockquote>\n      </div>\n    </div>\n  <div class=\"card align-items-center justify-content-center\">\n    <div class=\"card-body align-items-center justify-content-center\">\n      <p><b>Title: </b> {{ book.title }}</p>\n      <p><b>Author: </b>{{ book.author }}</p>\n      <img :src = \"this.photo\" :alt=\"book.author\">\n      <p><b>Genre: </b> {{ book.genre }}</p>\n      <p style = \"max-width: 50ch; text-align: center; word-break: normal\" ><b>Summary: </b> {{ book.summary }}</p>\n      <p><b>Publisher: </b> {{ book.publisher }}</p>\n      <p><b>Publisher Date: </b> {{ book.published_date }}</p>\n      <p><b>Page Total: </b> {{ book.page_total }} pages</p>\n      <p><b>Series Number: </b> {{ book.series_num }}</p>\n    </div>\n  </div>\n  </div>\n</template>\n<script>\nimport router from '../router';\nimport {APIService} from '../http/APIService';\nconst apiService = new APIService();\n\nexport default {\n  name: 'BookDetail',\n  components:{},\n\n  data() {\n    return {\n      validUserName: \"Guest\",\n      showMsg: '',\n      photo: '',\n      book: {\n      }\n    };\n  },\n  mounted() {\n    this.authenticated = localStorage.getItem(\"isAuthenticated\")\n    this.showMessages()\n    this.getBookDetails()\n  },\n  methods: {\n    getBookDetails(){\n      apiService.getBook(this.$route.params.pk).then(response => {\n        this.book = response.data;\n        if (localStorage.getItem(\"isAuthenticated\")\n            && JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true) {\n          this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n        }\n      }).catch(error =>{\n        if (error.response.status === 401) {\n          localStorage.clear();\n          router.push(\"/auth\");\n        }\n      });\n      apiService.getAuthor(this.$route.params.pk).then(response => {\n        this.book.author = response.data.name;\n        console.log(this.book.author);\n        this.photo = response.data.photo;\n        if (localStorage.getItem(\"isAuthenticated\")\n            && JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true) {\n          this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n        }\n      }).catch(error =>{\n        if (error.response.status === 401) {\n          localStorage.clear();\n          router.push(\"/auth\");\n        }\n      })\n    },\n    showMessages(){\n                if (this.$route.params.msg) {\n                    this.showMsg = this.$route.params.msg;\n                }\n            },\n  }\n}\n\n</script>\n<style>\nbutton {\n  padding: 1rem;\n  border: 0;\n  cursor: pointer;\n}\n</style>"],"mappings":";AA8BA,OAAOA,MAAK,MAAO,WAAW;AAC9B,SAAQC,UAAU,QAAO,oBAAoB;AAC7C,MAAMC,UAAS,GAAI,IAAID,UAAU,CAAC,CAAC;AAEnC,eAAe;EACbE,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAC,CAAC,CAAC;EAEbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,OAAO;MACtBC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,CACN;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAY,GAAIC,YAAY,CAACC,OAAO,CAAC,iBAAiB;IAC3D,IAAI,CAACC,YAAY,CAAC;IAClB,IAAI,CAACC,cAAc,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACPD,cAAcA,CAAA,EAAE;MACdb,UAAU,CAACe,OAAO,CAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QACzD,IAAI,CAACb,IAAG,GAAIa,QAAQ,CAACjB,IAAI;QACzB,IAAIO,YAAY,CAACC,OAAO,CAAC,iBAAiB,KACnCU,IAAI,CAACC,KAAK,CAACZ,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAI,EAAE;UACnE,IAAI,CAACP,aAAY,GAAIiB,IAAI,CAACC,KAAK,CAACZ,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;QACnE;MACF,CAAC,CAAC,CAACY,KAAK,CAACC,KAAI,IAAI;QACf,IAAIA,KAAK,CAACJ,QAAQ,CAACK,MAAK,KAAM,GAAG,EAAE;UACjCf,YAAY,CAACgB,KAAK,CAAC,CAAC;UACpB5B,MAAM,CAAC6B,IAAI,CAAC,OAAO,CAAC;QACtB;MACF,CAAC,CAAC;MACF3B,UAAU,CAAC4B,SAAS,CAAC,IAAI,CAACZ,MAAM,CAACC,MAAM,CAACC,EAAE,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAC3D,IAAI,CAACb,IAAI,CAACsB,MAAK,GAAIT,QAAQ,CAACjB,IAAI,CAACF,IAAI;QACrC6B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACxB,IAAI,CAACsB,MAAM,CAAC;QAC7B,IAAI,CAACvB,KAAI,GAAIc,QAAQ,CAACjB,IAAI,CAACG,KAAK;QAChC,IAAII,YAAY,CAACC,OAAO,CAAC,iBAAiB,KACnCU,IAAI,CAACC,KAAK,CAACZ,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,MAAM,IAAI,EAAE;UACnE,IAAI,CAACP,aAAY,GAAIiB,IAAI,CAACC,KAAK,CAACZ,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;QACnE;MACF,CAAC,CAAC,CAACY,KAAK,CAACC,KAAI,IAAI;QACf,IAAIA,KAAK,CAACJ,QAAQ,CAACK,MAAK,KAAM,GAAG,EAAE;UACjCf,YAAY,CAACgB,KAAK,CAAC,CAAC;UACpB5B,MAAM,CAAC6B,IAAI,CAAC,OAAO,CAAC;QACtB;MACF,CAAC;IACH,CAAC;IACDf,YAAYA,CAAA,EAAE;MACF,IAAI,IAAI,CAACI,MAAM,CAACC,MAAM,CAACe,GAAG,EAAE;QACxB,IAAI,CAAC3B,OAAM,GAAI,IAAI,CAACW,MAAM,CAACC,MAAM,CAACe,GAAG;MACzC;IACJ;EACV;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}